# 센서 매핑 빠른 가이드

> **⚠️ 주의**: 현재 센서 매핑은 `app/__init__.py`에 **하드코딩**되어 있습니다.
> 이 문서는 참고용이며, 실제 매핑은 물리적 테스트로 검증되었습니다 (2025-11-07).

## ✅ 완료된 매핑

### 전체 60개 센서 하드코딩 완료
- ✅ S01-S10 (교직원): 센서 1-10
- ✅ M01-M40 (남성): 센서 11-50
- ✅ F01-F10 (여성): 센서 51-60

### 핵심 특징
- **addr로 구분**: 같은 Chip0이지만 addr가 다름
  - addr=0x26, Chip0 → S01-S10
  - addr=0x23, Chip0 → M01-M10
- **공식 사용 안함**: 하드코딩된 매핑 테이블 사용

---

## 📝 매핑 파일 위치

**핵심 매핑**: `app/__init__.py` (하드코딩)
```python
chip_addr_pin_to_sensor = {
    ("0x26", 0, 1): 1,   # S01
    ("0x23", 0, 1): 11,  # M01
    # ... 전체 60개
}
```

**UI 표시용**: `config/sensor_mapping.json`
```json
{
  "mapping": {
    "1": "S01",   ← 센서 1번이 S01 락커
    "2": "S02",   ← 센서 2번이 S02 락커
    "11": "M01",  ← 센서 11번이 M01 락커 (addr로 구분!)
    ...
  }
}
```

---

## ❌ 사용하지 않는 방식

```
센서 번호 = Pin + 1              # 작동 안함!
센서 번호 = (chip_idx × 16) + pin + 1  # 작동 안함!
```

**이유**: addr가 다른 같은 Chip+Pin 조합이 존재하기 때문

---

**상세 가이드**: `docs/SENSOR_MAPPING_GUIDE.md` 참조

