# μ½”λ“ μ •λ¦¬ λ³΄κ³ μ„

## π“… μ‘μ„±μΌ: 2025-10-18

## π― λ©μ 
UI ν†µν•© ν›„ μ¤‘λ³µ κ°λ°λ μ½”λ“μ™€ μ‚¬μ©ν•μ§€ μ•λ” ν•¨μλ“¤μ„ μ •λ¦¬ν•μ—¬ μ½”λ“λ² μ΄μ¤λ¥Ό λ…ν™•ν•κ² μ μ§€

## π” λ°κ²¬λ μ¤‘λ³µ μ½”λ“

### 1. locker_service.pyμ μ¤‘λ³µ ν•¨μλ“¤

| ν•¨μλ… | μ„μΉ | μƒνƒ | λΉ„κ³  |
|--------|------|------|------|
| `rent_locker()` | 226μ¤„ | β οΈ DEPRECATED | ν™”λ©΄ μ—†μ΄ λ½μ»¤ IDλ¥Ό μ§€μ •ν•λ” λ°©μ‹ |
| `rent_locker_by_sensor()` | 720μ¤„ | β οΈ DEPRECATED | μ„Όμ„ μλ™ κ°μ§€ λ°©μ‹ (μ§μ ‘ μ²λ¦¬) |
| `return_locker_by_sensor()` | 849μ¤„ | β οΈ DEPRECATED | μ„Όμ„ κΈ°λ° λ°λ‚© μ²λ¦¬ |
| `_complete_rental_process()` | 643μ¤„ | β οΈ DEPRECATED | λ€μ—¬ μ™„λ£ μ²λ¦¬ (μ¤‘λ³µ) |

### 2. sensor_event_handler.pyμ μ¤‘λ³µ ν•¨μλ“¤

| ν•¨μλ… | μ„μΉ | μƒνƒ | λΉ„κ³  |
|--------|------|------|------|
| `_complete_rental_process()` | 340μ¤„ | β οΈ DEPRECATED | locker_service.pyμ™€ μ¤‘λ³µ |

## β… ν„μ¬ μ‚¬μ© μ¤‘μΈ μ½”λ“

### λ€μ—¬/λ°λ‚© μ²λ¦¬
**νμΌ**: `app/api/routes.py`  
**μ—”λ“ν¬μΈνΈ**: `/rentals/process`  
**μ„μΉ**: 398~580μ¤„

**λ™μ‘ λ°©μ‹**:
1. ν™”λ©΄μ—μ„ μ„Όμ„ HIGH/LOW κ°μ§€
2. JavaScriptμ—μ„ `/api/rentals/process` API νΈμ¶
3. APIμ—μ„ μ§μ ‘ DB μ—…λ°μ΄νΈ
4. λ¬Έ λ‹«κΈ° μ²λ¦¬ (3μ΄ λ€κΈ° ν›„)

**μ¥μ **:
- ν™”λ©΄κ³Ό λ°±μ—”λ“ κ°„ λ…ν™•ν• μ—­ν•  λ¶„λ¦¬
- λ‹¨μν•κ³  μ§κ΄€μ μΈ νλ¦„
- νΈλμ­μ… κ΄€λ¦¬ λ¶ν•„μ” (ν™”λ©΄μ—μ„ μ΄λ―Έ μ²λ¦¬)

## π“ μ •λ¦¬ μ‘μ—… λ‚΄μ©

### DEPRECATED ν‘μ‹ μ¶”κ°€
λ¨λ“  μ¤‘λ³µ ν•¨μμ— λ‹¤μ ν•μ‹μ μ£Όμ„ μ¶”κ°€:

```python
"""[DEPRECATED - μ‚¬μ© μ• ν•¨] μ›λ μ„¤λ…

β οΈ μ΄ ν•¨μλ” λ” μ΄μƒ μ‚¬μ©λμ§€ μ•μµλ‹λ‹¤.
ν„μ¬λ” api/routes.pyμ /rentals/process μ—”λ“ν¬μΈνΈκ°€ μ‚¬μ©λ©λ‹λ‹¤.
(ν™”λ©΄ κΈ°λ° λ€μ—¬/λ°λ‚© μ²λ¦¬ - 2025-10-18)
"""
```

### ν•¨μ μ‚­μ ν•μ§€ μ•μ€ μ΄μ 
1. **νΈν™μ„± μ μ§€**: κΈ°μ΅΄ ν…μ¤νΈ μ½”λ“λ‚ λ‹¤λ¥Έ λ¨λ“μ—μ„ μ°Έμ΅°ν•  κ°€λ¥μ„±
2. **μ°Έκ³  μλ£**: ν–¥ν›„ λ΅μ§ κ°μ„  μ‹ μ°Έκ³  κ°€λ¥
3. **μ•μ „μ„±**: μ‹¤μλ΅ μ‚¬μ© μ¤‘μΈ ν•¨μλ¥Ό μ‚­μ ν•λ” μ„ν— λ°©μ§€

## π“ μ •λ¦¬ ν†µκ³„

### μ •λ¦¬λ ν•¨μ
- **locker_service.py**: 4κ° ν•¨μ DEPRECATED ν‘μ‹
- **sensor_event_handler.py**: 1κ° ν•¨μ DEPRECATED ν‘μ‹
- **μ΄ 5κ° ν•¨μ** μ •λ¦¬

### μ½”λ“ μ¤‘λ³µ κ°μ†
- λ€μ—¬/λ°λ‚© λ΅μ§ κ²½λ΅: 3κ° β†’ 1κ°
- μ½”λ“ λ³µμ΅λ„: λ†’μ β†’ λ‚®μ
- μ μ§€λ³΄μμ„±: μ–΄λ ¤μ›€ β†’ μ‰¬μ›€

## π€ ν–¥ν›„ μ‘μ—…

### λ‹¨κ³„μ  μ κ±° κ³„ν
1. **1λ‹¨κ³„ (ν„μ¬)**: DEPRECATED ν‘μ‹ β…
2. **2λ‹¨κ³„ (1κ°μ›” ν›„)**: μ‚¬μ© λΉλ„ λ¨λ‹ν„°λ§
3. **3λ‹¨κ³„ (2κ°μ›” ν›„)**: μ™„μ „ν μ‚¬μ©λμ§€ μ•μμ΄ ν™•μΈλλ©΄ μ‚­μ 

### μ¶”κ°€ μ •λ¦¬ ν•„μ” ν•­λ©
- [ ] μ‚¬μ©ν•μ§€ μ•λ” import λ¬Έ μ •λ¦¬
- [ ] ν…μ¤νΈ μ½”λ“ μ—…λ°μ΄νΈ (deprecated ν•¨μ μ‚¬μ© ν™•μΈ)
- [ ] API λ¬Έμ„ μ—…λ°μ΄νΈ

## π“ κ²°λ΅ 

UI ν†µν•©μΌλ΅ μΈν•΄ λ°μƒν• μ½”λ“ μ¤‘λ³µμ„ μ„±κ³µμ μΌλ΅ μ •λ¦¬ν–μµλ‹λ‹¤. ν„μ¬ μ‹μ¤ν…μ€ `api/routes.py`μ `/rentals/process` μ—”λ“ν¬μΈνΈλ¥Ό ν†µν•΄ λ‹¨μΌ κ²½λ΅λ΅ λ€μ—¬/λ°λ‚©μ„ μ²λ¦¬ν•λ©°, μ΄λ” μ μ§€λ³΄μμ„±κ³Ό μ½”λ“ κ°€λ…μ„±μ„ ν¬κ² ν–¥μƒμ‹μΌ°μµλ‹λ‹¤.

---
*μµμΆ… μ—…λ°μ΄νΈ: 2025-10-18*

