# ğŸ—ƒï¸ ë°ì´í„°ë² ì´ìŠ¤ í†µì¼ ì™„ë£Œ ë³´ê³ ì„œ

## ğŸ“‹ ê°œìš”

í—¬ìŠ¤ì¥ ë½ì»¤ ì‹œìŠ¤í…œì˜ ë°ì´í„°ë² ì´ìŠ¤ íŒŒì¼ë“¤ì´ ì—¬ëŸ¬ ê³³ì— í©ì–´ì ¸ ìˆë˜ ë¬¸ì œë¥¼ í•´ê²°í•˜ì—¬ **í•˜ë‚˜ì˜ í†µì¼ëœ ë°ì´í„°ë² ì´ìŠ¤**ë¡œ ì •ë¦¬í–ˆìŠµë‹ˆë‹¤.

## ğŸ”„ í†µì¼ ì‘ì—… ë‚´ìš©

### 1ï¸âƒ£ **ê¸°ì¡´ íŒŒì¼ ìƒí™©**
```
âŒ ë¬¸ì œ ìƒí™©:
- locker.db (ë©”ì¸ ë£¨íŠ¸)
- instance/gym_system.db (ì¸ìŠ¤í„´ìŠ¤ ë””ë ‰í† ë¦¬)
- locker_backup_*.db (ì—¬ëŸ¬ ë°±ì—… íŒŒì¼ë“¤)
- ê° Python íŒŒì¼ë§ˆë‹¤ ë‹¤ë¥¸ ê²½ë¡œ ì°¸ì¡°
```

### 2ï¸âƒ£ **í†µì¼ í›„ ìƒí™©**
```
âœ… í•´ê²° ìƒí™©:
- instance/gym_system.db (ë‹¨ì¼ í†µí•© ë°ì´í„°ë² ì´ìŠ¤)
- ëª¨ë“  Python íŒŒì¼ì´ ë™ì¼í•œ ê²½ë¡œ ì°¸ì¡°
- ê¸°ì¡´ íŒŒì¼ë“¤ì€ backups/ ë””ë ‰í† ë¦¬ë¡œ ì•ˆì „í•˜ê²Œ ë°±ì—…
```

## ğŸ“Š í†µì¼ëœ ë°ì´í„°ë² ì´ìŠ¤ ì •ë³´

### ğŸ—‚ï¸ **íŒŒì¼ ìœ„ì¹˜**
```
/Users/yunseong-geun/Projects/raspberry-pi-gym-controller/instance/gym_system.db
```

### ğŸ“ˆ **ë°ì´í„° í˜„í™©**
- **íšŒì› ìˆ˜**: 350ëª…
- **ë½ì»¤ ìˆ˜**: 140ê°œ (ë‚¨ì 70ê°œ, ì—¬ì 50ê°œ, êµì§ì› 20ê°œ)
- **í…Œì´ë¸” ìˆ˜**: 6ê°œ
- **êµì§ì›**: 23ëª… (ê¶Œí•œ ì‹œìŠ¤í…œ ì ìš©)

### ğŸ—ï¸ **í…Œì´ë¸” êµ¬ì¡°**
- `members` - íšŒì› ì •ë³´ (ê¶Œí•œ ì‹œìŠ¤í…œ í¬í•¨)
- `locker_status` - ë½ì»¤ ìƒíƒœ ê´€ë¦¬
- `rentals` - ëŒ€ì—¬ ê¸°ë¡
- `active_transactions` - í™œì„± íŠ¸ëœì­ì…˜
- `system_settings` - ì‹œìŠ¤í…œ ì„¤ì •
- `sqlite_master` - SQLite ë©”íƒ€ë°ì´í„°

## ğŸ”§ ì—…ë°ì´íŠ¸ëœ íŒŒì¼ë“¤

### ğŸ“ **Python íŒŒì¼ (14ê°œ)**
```
âœ… app/services/locker_service.py
âœ… app/services/member_service.py
âœ… app/services/sensor_event_handler.py
âœ… app/api/routes.py
âœ… scripts/setup_lockers.py
âœ… scripts/import_members_csv.py
âœ… scripts/test_api_direct.py
âœ… scripts/test_server.py
âœ… scripts/test_sensor_event_direct.py
âœ… scripts/test_complete_flow.py
âœ… scripts/test_locker_service.py
âœ… scripts/add_test_members.py
âœ… scripts/init_database.py
âœ… database/database_manager.py
```

### ğŸ”„ **ë³€ê²½ëœ íŒ¨í„´ë“¤**
```python
# ì´ì „
'locker.db' â†’ 'instance/gym_system.db'
DatabaseManager('locker.db') â†’ DatabaseManager('instance/gym_system.db')
LockerService('locker.db') â†’ LockerService('instance/gym_system.db')
MemberService('locker.db') â†’ MemberService('instance/gym_system.db')
```

## ğŸ“¦ ë°±ì—… ê´€ë¦¬

### ğŸ—‚ï¸ **ë°±ì—… ë””ë ‰í† ë¦¬**
```
backups/
â”œâ”€â”€ locker_old_20251013_171922.db (í†µì¼ ì§ì „ ìƒíƒœ)
â”œâ”€â”€ locker_backup_1759308854.db
â”œâ”€â”€ locker_backup_1759309129.db
â”œâ”€â”€ locker_backup_1759309315.db
â”œâ”€â”€ locker_backup_1760244825.db
â””â”€â”€ locker_backup_20251010_165325.db
```

### ğŸ”’ **ë°ì´í„° ì•ˆì „ì„±**
- ëª¨ë“  ê¸°ì¡´ íŒŒì¼ì´ ì•ˆì „í•˜ê²Œ ë°±ì—…ë¨
- ë°ì´í„° ì†ì‹¤ ì—†ìŒ
- ì–¸ì œë“ ì§€ ì´ì „ ìƒíƒœë¡œ ë³µêµ¬ ê°€ëŠ¥

## âœ… ê²€ì¦ ê²°ê³¼

### ğŸ§ª **ì‹œìŠ¤í…œ í…ŒìŠ¤íŠ¸**
```
ğŸ§ª ë½ì»¤ ê¶Œí•œ ì‹œìŠ¤í…œ í…ŒìŠ¤íŠ¸
==================================================
ğŸ‘¤ ê¹€í˜„ (ë‚¨ì êµì§ì›): MALE + STAFF êµ¬ì—­ âœ…
ğŸ‘¤ ê¹€ì§„ì„œ (ì—¬ì êµì§ì›): FEMALE + STAFF êµ¬ì—­ âœ…  
ğŸ‘¤ ì†ì¤€í‘œ (ë‚¨ì ì¼ë°˜íšŒì›): MALE êµ¬ì—­ë§Œ âœ…
ğŸ‘¤ ì—˜ë ˆë‚˜ (ì—¬ì ì¼ë°˜íšŒì›): FEMALE êµ¬ì—­ë§Œ âœ…
==================================================
âœ… ëª¨ë“  ì‹œë‚˜ë¦¬ì˜¤ í…ŒìŠ¤íŠ¸ í†µê³¼!
```

### ğŸ” **ë°ì´í„° ë¬´ê²°ì„±**
- íšŒì› ë°ì´í„°: 350ëª… ëª¨ë‘ ì •ìƒ
- ë½ì»¤ ë°ì´í„°: 140ê°œ ëª¨ë‘ ì •ìƒ
- ê¶Œí•œ ì‹œìŠ¤í…œ: ì™„ë²½ ì‘ë™
- API ì—”ë“œí¬ì¸íŠ¸: ì •ìƒ ì‘ë‹µ

## ğŸ¯ ì‚¬ìš© ë°©ë²•

### ğŸ’» **ê°œë°œììš©**
```python
# ëª¨ë“  ì„œë¹„ìŠ¤ì—ì„œ ë™ì¼í•œ ê²½ë¡œ ì‚¬ìš©
from app.services.member_service import MemberService
from app.services.locker_service import LockerService

member_service = MemberService()  # ìë™ìœ¼ë¡œ instance/gym_system.db ì‚¬ìš©
locker_service = LockerService()  # ìë™ìœ¼ë¡œ instance/gym_system.db ì‚¬ìš©
```

### ğŸ”§ **ê´€ë¦¬ììš©**
```bash
# ë°ì´í„°ë² ì´ìŠ¤ ì§ì ‘ ì ‘ê·¼
sqlite3 instance/gym_system.db

# ì‹œìŠ¤í…œ í…ŒìŠ¤íŠ¸
python3 scripts/test_locker_permissions.py

# íšŒì› ë°ì´í„° ì—…ë°ì´íŠ¸
python3 scripts/update_member_permissions.py "ìƒˆë¡œìš´_íšŒì›ëª©ë¡.csv"
```

### ğŸ–¥ï¸ **ë·°ì–´ í”„ë¡œê·¸ë¨**
```
íŒŒì¼ ì—´ê¸°: /Users/yunseong-geun/Projects/raspberry-pi-gym-controller/instance/gym_system.db
```

## ğŸš€ í–¥í›„ ê´€ë¦¬

### âœ… **ì¥ì **
- **ë‹¨ì¼ ì§„ì‹¤ ì†ŒìŠ¤**: ëª¨ë“  ë°ì´í„°ê°€ í•œ ê³³ì—
- **ì¼ê´€ì„±**: ëª¨ë“  ì„œë¹„ìŠ¤ê°€ ë™ì¼í•œ ë°ì´í„° ì°¸ì¡°
- **ìœ ì§€ë³´ìˆ˜ì„±**: ë°±ì—…/ë³µêµ¬ê°€ ê°„ë‹¨
- **ì„±ëŠ¥**: íŒŒì¼ ë¶„ì‚°ìœ¼ë¡œ ì¸í•œ ì˜¤ë²„í—¤ë“œ ì œê±°

### ğŸ“‹ **ì£¼ì˜ì‚¬í•­**
- í•­ìƒ `instance/gym_system.db` íŒŒì¼ ì‚¬ìš©
- ìƒˆë¡œìš´ ìŠ¤í¬ë¦½íŠ¸ ì‘ì„± ì‹œ í†µì¼ëœ ê²½ë¡œ ì‚¬ìš©
- ì •ê¸°ì ì¸ ë°±ì—… ê¶Œì¥
- ë·°ì–´ì—ì„œ íŒŒì¼ ë³€ê²½ ì‹œ ìƒˆë¡œê³ ì¹¨ í•„ìš”

## ğŸ‰ ê²°ë¡ 

**ë°ì´í„°ë² ì´ìŠ¤ í†µì¼ ì‘ì—…ì´ ì„±ê³µì ìœ¼ë¡œ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!**

- âœ… ëª¨ë“  íŒŒì¼ì´ í•˜ë‚˜ì˜ ë°ì´í„°ë² ì´ìŠ¤ë¡œ í†µì¼
- âœ… ê¸°ì¡´ ë°ì´í„° 100% ë³´ì¡´
- âœ… ê¶Œí•œ ì‹œìŠ¤í…œ ì •ìƒ ì‘ë™
- âœ… ëª¨ë“  í…ŒìŠ¤íŠ¸ í†µê³¼
- âœ… ë°±ì—… ì‹œìŠ¤í…œ ì™„ë¹„

ì´ì œ **í˜¼ë€ ì—†ì´ í•˜ë‚˜ì˜ í†µì¼ëœ ë°ì´í„°ë² ì´ìŠ¤**ë¡œ í—¬ìŠ¤ì¥ ë½ì»¤ ì‹œìŠ¤í…œì„ ì•ˆì •ì ìœ¼ë¡œ ìš´ì˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤! ğŸ¯
